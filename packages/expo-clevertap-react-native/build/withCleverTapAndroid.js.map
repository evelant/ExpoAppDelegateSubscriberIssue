{"version":3,"file":"withCleverTapAndroid.js","sourceRoot":"","sources":["../src/withCleverTapAndroid.ts"],"names":[],"mappings":";;;AAAA,yDAAyE;AAIzE,MAAM,EAAE,gCAAgC,EAAE,yBAAyB,EAAE,qCAAqC,EAAE,GACxG,8BAAa,CAAC,QAAQ,CAAA;AAE1B,MAAM,yBAAyB,GAAG,sBAAsB,CAAA;AACxD,MAAM,oBAAoB,GAAG,iBAAiB,CAAA;AAC9C,MAAM,qBAAqB,GAAG,kBAAkB,CAAA;AAChD,MAAM,+BAA+B,GAAG,4BAA4B,CAAA;AAE7D,MAAM,oBAAoB,GAA6B,CAAC,MAAM,EAAE,IAAI,EAAE,EAAE;IAC3E,MAAM,EAAE,kBAAkB,EAAE,cAAc,EAAE,mBAAmB,EAAE,6BAA6B,EAAE,GAAG,IAAI,CAAA;IACvG,IAAI,CAAC,kBAAkB,EAAE;QACrB,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAA;KACtD;IACD,IAAI,CAAC,cAAc,EAAE;QACjB,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAA;KACjD;IACD,IAAI,CAAC,mBAAmB,EAAE;QACtB,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAA;KACvD;IACD,MAAM,GAAG,IAAA,oCAAmB,EAAC,MAAM,EAAE,CAAC,MAAM,EAAE,EAAE;QAC5C,MAAM,eAAe,GAAG,yBAAyB,CAAC,MAAM,CAAC,UAAU,CAAC,CAAA;QACpE,gCAAgC,CAAC,eAAe,EAAE,yBAAyB,EAAE,kBAAkB,CAAC,CAAA;QAChG,gCAAgC,CAAC,eAAe,EAAE,oBAAoB,EAAE,cAAc,CAAC,CAAA;QACvF,gCAAgC,CAAC,eAAe,EAAE,qBAAqB,EAAE,mBAAmB,CAAC,CAAA;QAC7F,gCAAgC,CAC5B,eAAe,EACf,+BAA+B,EAC/B,6BAA6B,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAC5C,CAAA;QAED,OAAO,MAAM,CAAA;IACjB,CAAC,CAAC,CAAA;IAEF,OAAO,MAAM,CAAA;AACjB,CAAC,CAAA;AA1BY,QAAA,oBAAoB,wBA0BhC","sourcesContent":["import { AndroidConfig, withAndroidManifest } from \"@expo/config-plugins\"\nimport type { ConfigPlugin } from \"@expo/config-plugins\"\nimport { ConfigData } from \"./types\"\n\nconst { addMetaDataItemToMainApplication, getMainApplicationOrThrow, removeMetaDataItemFromMainApplication } =\n    AndroidConfig.Manifest\n\nconst META_CLEVERTAP_ACCOUNT_ID = \"CLEVERTAP_ACCOUNT_ID\"\nconst META_CLEVERTAP_TOKEN = \"CLEVERTAP_TOKEN\"\nconst META_CLEVERTAP_REGION = \"CLEVERTAP_REGION\"\nconst META_CLEVERTAP_USE_GOOGLE_AD_ID = \"CLEVERTAP_USE_GOOGLE_AD_ID\"\n\nexport const withCleverTapAndroid: ConfigPlugin<ConfigData> = (config, data) => {\n    const { cleverTapAccountId, cleverTapToken, cleverTapRegionCode, cleverTapAndroidUseGoogleAdId } = data\n    if (!cleverTapAccountId) {\n        throw new Error(\"CleverTap account ID is required\")\n    }\n    if (!cleverTapToken) {\n        throw new Error(\"CleverTap token is required\")\n    }\n    if (!cleverTapRegionCode) {\n        throw new Error(\"CleverTap region code is required\")\n    }\n    config = withAndroidManifest(config, (config) => {\n        const mainApplication = getMainApplicationOrThrow(config.modResults)\n        addMetaDataItemToMainApplication(mainApplication, META_CLEVERTAP_ACCOUNT_ID, cleverTapAccountId)\n        addMetaDataItemToMainApplication(mainApplication, META_CLEVERTAP_TOKEN, cleverTapToken)\n        addMetaDataItemToMainApplication(mainApplication, META_CLEVERTAP_REGION, cleverTapRegionCode)\n        addMetaDataItemToMainApplication(\n            mainApplication,\n            META_CLEVERTAP_USE_GOOGLE_AD_ID,\n            cleverTapAndroidUseGoogleAdId ? \"1\" : \"0\"\n        )\n\n        return config\n    })\n\n    return config\n}\n"]}